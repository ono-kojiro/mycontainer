/var/log/kibana/*.log {
    # see 'man logrotate'
    #
    # If the log file is missing, go on to the next one
    # without issuing an error message.
    missingok

    # Do not rotate the log if it is empty.
    notifempty

    # Log files are rotated "count" times before being removed or mailed
    # to the address specified in a mail directive.
    rotate 10

    # Log files are rotated only if they grow bigger than "size" bytes.
    size 10M


    # prerotate and postrotate scripts are run for each log
    sharedscripts

    # The script is executed after the log file is rotated.
    postrotate
    /bin/kill -HUP $(cat /var/run/kibana/kibana.pid 2>/dev/null) 2>/dev/null
    endscript
}

