- hosts: targets

  tasks:
  - name: confirm parameters with ldapi
    shell: |
      ldapsearch -Q -Y EXTERNAL -H ldapi:/// \
        -LLL -b "cn=config" olcTLSCertificateFile
  
  - name: confirm parameters without tls 
    shell: |
      ldapsearch -H ldap://localhost \
        -D "{{ masterdn }}" -w "{{ masterpw }}" \
        -LLL -b "cn=config" olcTLSCertificateFile
  
  - name: confirm parameters with tls 
    shell: |
      ldapsearch -H ldaps://localhost \
        -D "{{ masterdn }}" -w "{{ masterpw }}" \
        -LLL -b "cn=config" olcTLSCertificateFile

